{% extends "layout.html" %}
{% block content %}
<div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold text-white">My Workouts</h1>
    <a href="/create" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">New Workout</a>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for w in workouts %}
    <div class="bg-gray-800 rounded-lg overflow-hidden border border-gray-700 relative group">
        <div class="p-5">
            <h3 class="text-xl font-bold text-white mb-2">{{ w.name }}</h3>
            <div class="text-sm text-gray-400 space-y-1">
                <p>Volume: {{ w.totalCapacity }} {{ 'lbs' if unit == 1 else 'kg' }}</p>
                <p>Duration: ~{{ w.durationMinute }} min</p>
                <p>Exercises: {{ w.actionNum }}</p>
            </div>
            <div class="mt-4 flex space-x-2">
                <a href="/delete/{{ w.id }}" onclick="return confirm('Really delete?')" class="text-red-400 hover:text-red-300 text-sm">Delete</a>
                <a href="/edit/{{ w.code }}" class="text-blue-400 hover:text-blue-300 text-sm">edit</a>
            </div>
        </div>
        <div class="bg-gray-900 p-2 flex space-x-2 overflow-hidden h-16 opacity-50 group-hover:opacity-100 transition">
            {% for group in w.actionInfoList %}
                {% if group[0] is defined %}
                    <img src="{{ group[0].img }}" class="h-full rounded">
                {% endif %}
            {% endfor %}
        </div>
    </div>
    {% else %}
    <p class="text-gray-500">No workouts found.</p>
    {% endfor %}
</div>
{% endblock %}