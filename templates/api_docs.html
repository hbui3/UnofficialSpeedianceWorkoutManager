{% extends "layout.html" %}

{% block head %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark-reasonable.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/http.min.js"></script>
    
    <style>
        :root { --bg-dark: #0d1117; --bg-panel: #161b22; --border: #30363d; --text-main: #c9d1d9; --text-muted: #8b949e; --accent: #58a6ff; }
        html { scroll-behavior: smooth; }
        body { background-color: var(--bg-dark); color: var(--text-main); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; margin: 0; }
        
        /* Layout */
        .sidebar { position: fixed; top: 0; left: 0; width: 280px; height: 100vh; background: var(--bg-panel); border-right: 1px solid var(--border); overflow-y: auto; z-index: 10; }
        .content { margin-left: 280px; padding: 40px; max-width: 1200px; }

        /* Typography */
        h1 { font-size: 2.5rem; font-weight: 700; color: white; margin-bottom: 0.5rem; letter-spacing: -0.5px; }
        h2 { font-size: 1.75rem; font-weight: 600; color: white; margin-top: 3.5rem; margin-bottom: 1.5rem; border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; scroll-margin-top: 2rem; }
        h3 { font-size: 1.1rem; font-weight: 600; color: var(--accent); margin-top: 2rem; margin-bottom: 1rem; }
        p, li { line-height: 1.6; color: var(--text-muted); margin-bottom: 1rem; font-size: 0.95rem; }
        strong { color: #e6edf3; }

        /* Navigation */
        .nav-section { margin-bottom: 24px; padding: 0 20px; }
        .nav-header { font-size: 0.75rem; text-transform: uppercase; color: var(--text-muted); font-weight: bold; margin-bottom: 8px; letter-spacing: 0.5px; margin-top: 20px; }
        .nav-link { display: block; padding: 6px 0; color: var(--text-main); text-decoration: none; font-size: 0.9rem; transition: color 0.2s; }
        .nav-link:hover { color: var(--accent); }
        .brand { padding: 24px; border-bottom: 1px solid var(--border); margin-bottom: 10px; }
        
        /* Methods & Badges */
        .badge { display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 0.7rem; font-weight: bold; font-family: monospace; border: 1px solid var(--border); vertical-align: middle; margin-right: 8px; }
        .get { background: rgba(31, 111, 235, 0.15); color: #58a6ff; border-color: rgba(56, 139, 253, 0.4); }
        .post { background: rgba(35, 134, 54, 0.15); color: #3fb950; border-color: rgba(63, 185, 80, 0.4); }
        
        /* Code & Tables */
        .endpoint-url { font-family: 'Fira Code', monospace; background: #000; padding: 6px 10px; border-radius: 6px; color: #e1e4e8; border: 1px solid var(--border); font-size: 0.9rem; display: inline-block; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 0.9rem; background: var(--bg-panel); border-radius: 6px; overflow: hidden; }
        th { text-align: left; padding: 12px 16px; border-bottom: 1px solid var(--border); color: var(--text-muted); font-weight: 600; background: #21262d; }
        td { padding: 12px 16px; border-bottom: 1px solid var(--border); color: var(--text-main); vertical-align: top; }
        tr:last-child td { border-bottom: none; }
        code { font-family: 'Fira Code', monospace; background: rgba(110,118,129,0.2); padding: 2px 6px; border-radius: 4px; font-size: 0.85em; color: #a5d6ff; }
        pre { background: #0d1117 !important; border: 1px solid var(--border); border-radius: 6px; padding: 16px; margin-top: 10px; }

        /* Logic Callouts */
        .callout { background: rgba(56, 139, 253, 0.1); border-left: 4px solid #58a6ff; padding: 16px; border-radius: 0 6px 6px 0; margin-bottom: 20px; }
        .callout-title { font-weight: bold; color: #58a6ff; display: block; margin-bottom: 5px; font-size: 0.9rem; }
    </style>
{% endblock %}

{% block content %}

<nav class="sidebar">
    <div class="brand">
        <div class="font-bold text-xl text-white">SPEEDIANCE <span style="color:#3fb950">API</span></div>
        <div class="text-xs text-gray-500 mt-1">Reverse Engineered v2.0</div>
    </div>

    <div class="nav-section">
        <div class="nav-header">Fundamentals</div>
        <a href="#authentication" class="nav-link">Authentication</a>
        <a href="#constants" class="nav-link">Global Enums & IDs</a>
        <a href="#data-models" class="nav-link">Data Models</a>
    </div>

    <div class="nav-section">
        <div class="nav-header">Endpoints</div>
        <a href="#auth-login" class="nav-link"><span class="badge post">POST</span> Login</a>
        <a href="#auth-logout" class="nav-link"><span class="badge post">POST</span> Logout</a>
        <a href="#get-categories" class="nav-link"><span class="badge get">GET</span> Muscle Categories</a>
        <a href="#get-library" class="nav-link"><span class="badge get">GET</span> Action Library</a>
        <a href="#get-batch-details" class="nav-link"><span class="badge get">GET</span> Batch Details</a>
        <a href="#post-save-template" class="nav-link"><span class="badge post">POST</span> Save Template</a>
        <a href="#get-user-workouts" class="nav-link"><span class="badge get">GET</span> User Workouts</a>
        <a href="#delete-template" class="nav-link"><span class="badge" style="background: rgba(218, 54, 51, 0.15); color: #f85149; border-color: rgba(248, 81, 73, 0.4);">DEL</span> Delete Template</a>
    </div>
</nav>

<main class="content">

    <section id="intro">
        <h1>Internal API Documentation</h1>
        <p>
            Documentation for the Speediance internal API used by Android clients ("Gym Monster").
            <br>Base URL: <code>https://api2.speediance.com</code>
        </p>
    </section>

    <section id="authentication">
        <h2>Authentication & Headers</h2>
        <p>All requests must be signed with valid headers. Missing headers result in <code>401</code> errors or incorrect device context.</p>

        <table>
            <thead>
                <tr>
                    <th style="width: 25%;">Header Name</th>
                    <th>Required</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>App_user_id</code></td>
                    <td>Yes</td>
                    <td>Numeric User ID (e.g., <code>459980178784257</code>). Persistent identifier.</td>
                </tr>
                <tr>
                    <td><code>Token</code></td>
                    <td>Yes</td>
                    <td>Session Bearer Token (MD5 hash format). Acquired via login. (e.g., <code>251a28ac616086ac4888f1c0667858a9</code>)</td>
                </tr>
                <tr>
                    <td><code>Timestamp</code></td>
                    <td>Yes</td>
                    <td>Current Unix Timestamp (ms). Used for request validity/replay attacks. (e.g. <code>1765647281724</code>)</td>
                </tr>
                <tr>
                    <td><code>Versioncode</code></td>
                    <td>Yes</td>
                    <td>Client build version (e.g., <code>40304</code>). Server logic may vary by version.</td>
                </tr>
                <tr>
                    <td><code>Mobiledevices</code></td>
                    <td>No*</td>
                    <td>JSON string defining the hardware context (e.g., <code>{"brand":"google","device":"emulator64_x86_64_arm64","deviceType":"sdk_gphone64_x86_64","os":"","os_version":"31","manufacturer":"Google"}</code>). *Required for specific hardware-dependent endpoints.</td>
                </tr></tbody>
        </table>
                <table>
            <thead>
                <tr>
                    <th style="width: 25%;">Full example</th>
                    
                  
                </tr>
            </thead>
            <tbody>
                <tr>
                    
                    
                    <td><code>GET /api/app/actionLibrary/category?type=1 HTTP/2<br>
Host: api2.speediance.com<br>
User-Agent: Dart/3.9 (dart:io)<br>
Accept-Encoding: gzip, deflate, br<br>
App_user_id: 123456789000000<br>
Content-Type: application/json<br>
Timestamp: 1765647281724<br>
Utc_offset: +0000<br>
Versioncode: 40304<br>
Token: 123a12ab12345cd1234f2d1234567d1<br>
Mobiledevices: {"brand":"google","device":"emulator64_x86_64_arm64","deviceType":"sdk_gphone64_x86_64","os":"","os_version":"31","manufacturer":"Google"}<br>
Timezone: GMT<br>
Accept-Language: en<br>
App_type: SOFTWARE</code></td>
                </tr>
            </tbody>
        </table>
    </section>

    <section id="constants">
        <h2>Enumerations & IDs</h2>
        <p>Crucial ID mappings for constructing requests and interpreting responses.</p>

        <h3>1. Accessories (Hardware)</h3>
        <p>Used in the <code>accessories</code> field. Defines required equipment and motor logic.</p>
        <table>
            <thead><tr><th>ID</th><th>Name</th><th>Motor Constraint</th></tr></thead>
            <tbody>
                <tr><td><code>4</code></td><td>Smart Bar (Langhantel)</td><td>Min Load: 7kg (Combined)</td></tr>
                <tr><td><code>5</code></td><td>Smart Handles (Griffe)</td><td>Min Load: 7kg (Combined)</td></tr>
                <tr><td><code>2</code></td><td>Tricep Rope (Seil)</td><td>Min Load: 4kg</td></tr>
                <tr><td><code>3</code></td><td>Ankle Straps</td><td>Min Load: 4kg</td></tr>
                <tr><td><code>7</code></td><td>Ski Handles</td><td>Min Load: 4kg</td></tr>
                <tr><td><code>1</code></td><td>Flat Bench</td><td>N/A (Passive)</td></tr>
                <tr><td><code>9</code></td><td>Adjustable Bench</td><td>N/A (Passive)</td></tr>
                <tr><td><code>10</code></td><td>Waist Belt</td><td>Min Load: 7kg</td></tr>
            </tbody>
        </table>

        <h3>2. Muscle Groups (trainingPartId2)</h3>
        <p>High-level anatomical grouping.</p>
        <table>
            <thead><tr><th>ID</th><th>Group Name</th><th>Anatomical Region</th></tr></thead>
            <tbody>
                <tr><td><code>11</code></td><td>Pecs (Brust)</td><td>Upper Body</td></tr>
                <tr><td><code>12</code></td><td>Delts (Schulter)</td><td>Upper Body</td></tr>
                <tr><td><code>13</code></td><td>Back (R√ºcken)</td><td>Upper Body</td></tr>
                <tr><td><code>16</code></td><td>Arms (Bizeps/Trizeps)</td><td>Upper Body</td></tr>
                <tr><td><code>17</code></td><td>Abs (Core)</td><td>Core</td></tr>
                <tr><td><code>14</code></td><td>Gluteus (Po)</td><td>Lower Body</td></tr>
                <tr><td><code>15</code></td><td>Legs (Beine)</td><td>Lower Body</td></tr>
                <tr><td><code>18</code></td><td>Full Body</td><td>Composite</td></tr>
            </tbody>
        </table>
    </section>

    <h3>3. Slider Arm Position (outPosition)</h3>
        <p>Defines the vertical height setting for the motor arms. The app translates this integer into a visual guide (e.g., "Platform End").</p>
        
        <table>
            <thead><tr><th>Value</th><th>UI Label</th><th>Physical Position</th><th>Typical Exercises</th></tr></thead>
            <tbody>
                <tr><td><code>0</code></td><td>Top (Presumed)</td><td>Highest Point</td><td>Lat Pulldowns, Face Pulls</td></tr>
                <tr><td><code>1 - 9</code></td><td>Level 1-9</td><td>Intermediate Steps</td><td>Cable Rows, Standing Chest Press</td></tr>
                <tr><td><code>10</code></td><td>Platform End</td><td>Lowest Point (Floor)</td><td>Bench Press, Deadlifts, Squats</td></tr>
            </tbody>
        </table>

    <section id="data-models">
        <h2>Data Models</h2>
        <p>Standardized JSON objects returned across various endpoints.</p>

        <h3>ActionObject (Exercise)</h3>
        <table>
            <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>id</code></td><td>Int64</td><td>Unique identifier for the exercise action.</td></tr>
                <tr><td><code>title</code></td><td>String</td><td>English display name of the exercise.</td></tr>
                <tr><td><code>accessories</code></td><td>String</td><td>Comma-separated list of Accessory IDs needed (e.g. <code>"4,1"</code>).</td></tr>
                <tr><td><code>trainingPartId2</code></td><td>Int</td><td>Primary Muscle Group ID.</td></tr>
                <tr><td><code>img</code></td><td>String</td><td>URL to the exercise thumbnail (Cloudfront).</td></tr>
                <tr><td><code>isViolation</code></td><td>Int</td><td>Usually <code>0</code>. Likely flag for deprecated/unsafe exercises.</td></tr>
            </tbody>
        </table>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>

    <section id="auth-login">
        <h2>Login Flow</h2>
        <p>Login is a two-step process: Verify Identity followed by Password Bypass.</p>
        
        <h3>1. Verify Identity</h3>
        <div class="endpoint-url">POST /api/app/v2/login/verifyIdentity</div>
        <pre><code class="language-json">{
    "type": 2,
    "userIdentity": "email@example.com"
}</code></pre>

        <h3>2. Password Login (ByPass)</h3>
        <div class="endpoint-url">POST /api/app/v2/login/byPass</div>
        <pre><code class="language-json">{
    "userIdentity": "email@example.com",
    "password": "password123",
    "type": 2
}</code></pre>
        <p><strong>Response:</strong> Returns <code>token</code> and <code>appUserId</code> needed for subsequent requests.</p>
        <pre><code class="language-json">{
    "code": 0,
    "message": "Success",
    "data": {
        "appUserId": 459980178784257,
        "username": "Jens",
        "email": "hendrikbui@gmail.com",
        "token": "10c5af17ebe0cc22d55aecc4656ccd55",
        "isSoftwareLoggedIn": 1
    }
}</code></pre>
    </section>

    <section id="auth-logout">
        <h2>Logout</h2>
        <div class="endpoint-url">POST /api/app/login/logout</div>
        <p>Invalidates the current token.</p>
    </section>

    <section id="get-categories">
        <div class="mb-4">
            <span class="badge get" style="font-size: 1rem; padding: 4px 10px;">GET</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/actionLibrary/category</span>
        </div>
        <p>Retrieves specific muscle sub-categories (e.g., "Upper Chest" vs "Lower Chest") and their associated intensity thresholds for analytics.</p>

        <h3>Request Parameters</h3>
        <table>
            <thead><tr><th>Name</th><th>In</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>type</code></td><td>Query</td><td>Int</td><td><strong>Required.</strong> Set to <code>1</code> for standard strength training library.</td></tr>
            </tbody>
        </table>

        <h3>Response Schema</h3>
        <p>Returns a list of Category Objects mapping specific muscles to parent groups.</p>
        <pre><code class="language-json">{
  "code": 0,
  "message": "Success",
  "data": [
    {
      "id": 58,
      "categoryName": "Hamstrings",
      "trainingPartId2": 15, // Links to Legs
      "minLowIntensity": 0,  // Analytics Thresholds
      "maxHighIntensity": 2147483647
    },
    {
      "id": 68,
      "categoryName": "Pecs",
      "trainingPartId2": 11 // Links to Chest
    }
  ]
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>

<section id="get-library-full">
        <div class="mb-4">
            <span class="badge get" style="font-size: 1rem; padding: 4px 10px;">GET</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/actionLibraryGroup/trainingPartGroup</span>
        </div>
        <p>Retrieves the <strong>complete catalog</strong> of available exercises (~300+ items), grouped by their primary muscle part. This serves as the master dictionary for the client application.</p>

        <div class="callout">
            <span class="callout-title">üí° Developer Note</span>
            The response payload is significant (>100KB). Clients should cache this data and strictly respect the <code>updateTime</code> field to avoid unnecessary re-fetching.
        </div>

        <h3>Request Parameters</h3>
        <table>
            <thead><tr><th>Name</th><th>In</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>tabId</code></td><td>Query</td><td>Int</td><td><strong>Required.</strong> The category context ID (e.g., <code>1</code> for Strength Training). References <code>/actionLibraryTab/list</code>.</td></tr>
                <tr><td><code>deviceTypeList</code></td><td>Query</td><td>Int</td><td><strong>Required.</strong> Hardware filter (<code>1</code> = Gym Monster).</td></tr>
            </tbody>
        </table>

        <h3>Response Schema</h3>
        <p>The response is a nested JSON structure. The levels are described below.</p>

        <h4>1. Root Response Object</h4>
        <table>
            <thead><tr><th style="width: 200px;">Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>code</code></td><td>Integer</td><td>API Status Code. <code>0</code> indicates success.</td></tr>
                <tr><td><code>message</code></td><td>String</td><td>Status message (e.g., "Success").</td></tr>
                <tr><td><code>data</code></td><td>Array&lt;Object&gt;</td><td>A list of <strong>Muscle Group Objects</strong> (see below).</td></tr>
                <tr><td><code>traceId</code></td><td>String</td><td>Unique request identifier for debugging.</td></tr>
                <tr><td><code>timestamp</code></td><td>Integer</td><td>Server response time (Unix epoch seconds).</td></tr>
            </tbody>
        </table>

        <h4>2. Muscle Group Object (Item in `data`)</h4>
        <table>
            <thead><tr><th style="width: 200px;">Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>trainingPartId2</code></td><td>Integer</td><td>The ID of the primary muscle group for this collection (e.g., <code>11</code> = Chest, <code>15</code> = Legs). See <strong>Global Constants</strong>.</td></tr>
                <tr><td><code>actionLibraryGroupList</code></td><td>Array&lt;Object&gt;</td><td>A list of <strong>Action Objects</strong> (Exercises) belonging to this muscle group.</td></tr>
            </tbody>
        </table>

        <h4>3. Action Object (Exercise Detail)</h4>
        <table>
            <thead><tr><th style="width: 200px;">Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>id</code></td><td>Int64</td><td>The unique 64-bit identifier for the exercise. <strong>Crucial:</strong> Use this ID when submitting workout templates.</td></tr>
                <tr><td><code>title</code></td><td>String</td><td>The English display name of the exercise.</td></tr>
                <tr><td><code>img</code></td><td>String</td><td>Full URL to the thumbnail image (Cloudfront CDN).</td></tr>
                <tr><td><code>accessories</code></td><td>String</td><td>Comma-separated list of required Accessory IDs. <br>Example: <code>"4,1"</code> means Barbell (4) + Flat Bench (1).</td></tr>
                <tr><td><code>trainingPartId2</code></td><td>Integer</td><td>Redundant field confirming the parent muscle group ID.</td></tr>
                <tr><td><code>tabId</code></td><td>Integer</td><td>The Tab ID context (usually <code>1</code>).</td></tr>
                <tr><td><code>updateTime</code></td><td>String</td><td>UTC Timestamp (SQL format: <code>YYYY-MM-DD HH:MM:SS</code>). Used for cache invalidation.</td></tr>
                <tr><td><code>isViolation</code></td><td>Integer</td><td>Safety Flag. <code>0</code> = Safe/Active. likely <code>1</code> for deprecated or unsafe exercises.</td></tr>
                <tr><td><code>trainingTimes</code></td><td>Integer</td><td>Usage counter (often <code>0</code> in library view).</td></tr>
            </tbody>
        </table>

        <h3>Response Example (Truncated)</h3>
        <pre><code class="language-json">{
  "code": 0,
  "message": "Success",
  "data": [
    {
      "trainingPartId2": 11,
      "actionLibraryGroupList": [
        {
          "id": 116,
          "title": "Barbell Bench Press",
          "img": "https://d1rwzqjevxdih5.cloudfront.net/1764665258264.jpg",
          "tabId": 1,
          "trainingPartId2": 11,
          "updateTime": "2025-12-02 08:47:42",
          "isViolation": 0,
          "trainingTimes": 0,
          "accessories": "4,1"
        }
      ]
    }
  ],
  "timestamp": 1765649384,
  "traceId": "15980b0a2e168a43"
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>
<section id="get-accessories">
        <div class="mb-4">
            <span class="badge get" style="font-size: 1rem; padding: 4px 10px;">GET</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/accessories/list</span>
        </div>
        <p>Retrieves the metadata for all supported hardware accessories. This endpoint provides the official names, icons, and categorization for the IDs used in the <code>accessories</code> field of exercises.</p>

        <h3>Request Parameters</h3>
        <p>No query parameters required. Standard authentication headers apply.</p>

        <h3>Response Schema</h3>
        <p>Returns a list of Accessory Objects.</p>
        <table>
            <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>id</code></td><td>Int</td><td>The unique ID used in exercise definitions (matches the Enums).</td></tr>
                <tr><td><code>name</code></td><td>String</td><td>English display name (e.g., "Barbell Bar").</td></tr>
                <tr><td><code>type</code></td><td>Int</td><td>Category Enum: <code>0</code> = Cable Attachment (Active), <code>1</code> = Bench/Seat (Passive).</td></tr>
                <tr><td><code>isBarbell</code></td><td>Int</td><td>Flag (<code>1</code> or <code>0</code>). If 1, likely triggers specific digital weight syncing logic (dual motor synchronization).</td></tr>
                <tr><td><code>deviceTypes</code></td><td>String</td><td>CSV string indicating compatibility. <code>1</code> = Gym Monster, <code>2</code> = Gym Pal (Likely).</td></tr>
                <tr><td><code>icon</code></td><td>String</td><td>URL for the UI icon.</td></tr>
            </tbody>
        </table>

        <h3>Response Example</h3>
        <pre><code class="language-json">{
  "code": 0,
  "message": "Success",
  "data": [
    {
      "id": 4,
      "name": "Barbell Bar",
      "type": 0, // Cable Attachment
      "isBarbell": 1,
      "deviceTypes": "1,2",
      "icon": "https://d1rwzqjevxdih5.cloudfront.net/..."
    },
    {
      "id": 1,
      "name": "Flat Bench",
      "type": 1, // Furniture/Support
      "isBarbell": 0,
      "deviceTypes": "1,2"
    }
  ]
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>

    <section id="get-library-tabs">
        <div class="mb-4">
            <span class="badge get" style="font-size: 1rem; padding: 4px 10px;">GET</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/actionLibraryTab/list</span>
        </div>
        <p>Retrieves the top-level navigation categories ("Tabs"). These IDs are required to filter exercises in the Action Library endpoint (via the <code>tabId</code> parameter).</p>

        <h3>Request Parameters</h3>
        <table>
            <thead><tr><th>Name</th><th>In</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>deviceType</code></td><td>Query</td><td>Int</td><td><strong>Required.</strong> Hardware context (<code>1</code> = Gym Monster).</td></tr>
            </tbody>
        </table>

        <h3>Response Schema</h3>
        <p>Returns a list of Tab Objects.</p>
        <table>
            <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>id</code></td><td>Int</td><td><strong>Key Field.</strong> Use this as <code>tabId</code> in other endpoints. (e.g., <code>1</code> = Strength Training).</td></tr>
                <tr><td><code>name</code></td><td>String</td><td>Display name (e.g., "HIIT", "Warm up").</td></tr>
                <tr><td><code>stravaType</code></td><td>String</td><td>Mapping for Strava uploads (e.g., <code>"WeightTraining"</code>, <code>"HighIntensityIntervalTraining"</code>). Null if not applicable.</td></tr>
                <tr><td><code>isCustom</code></td><td>Int</td><td><code>1</code> if user-created/custom tab, <code>0</code> for system defaults.</td></tr>
                <tr><td><code>sort</code></td><td>Int</td><td>UI display order.</td></tr>
            </tbody>
        </table>

        <h3>Response Example</h3>
        <pre><code class="language-json">{
  "code": 0,
  "message": "Success",
  "data": [
    {
      "id": 1,
      "name": "Training",
      "stravaType": "WeightTraining", // Uploads to Strava as Weight Training
      "isCustom": 0,
      "sort": 1
    },
    {
      "id": 17,
      "name": "HIIT",
      "stravaType": "HighIntensityIntervalTraining",
      "isCustom": 0
    },
    {
      "id": 8,
      "name": "Customized",
      "isCustom": 1
    }
  ]
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>

    <section id="get-muscle-categories">
        <div class="mb-4">
            <span class="badge get" style="font-size: 1rem; padding: 4px 10px;">GET</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/actionLibrary/category</span>
        </div>
        <p>Retrieves the specific muscle sub-groups (e.g., "Hamstrings", "Upper Chest") and their associated <strong>analytics thresholds</strong>. This data is likely used to calculate the "Muscle Fatigue" or "Training Volume" visualization (Heatmap) in the app.</p>

        <h3>Request Parameters</h3>
        <table>
            <thead><tr><th>Name</th><th>In</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>type</code></td><td>Query</td><td>Int</td><td><strong>Required.</strong> Set to <code>1</code> (Standard Strength Library).</td></tr>
            </tbody>
        </table>

        <h3>Response Schema</h3>
        <table>
            <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>id</code></td><td>Int</td><td><strong>Unique Key.</strong> The specific muscle ID used in exercise data.</td></tr>
                <tr><td><code>categoryName</code></td><td>String</td><td>Display name (e.g., "Rear Delts").</td></tr>
                <tr><td><code>trainingPartId2</code></td><td>Int</td><td><strong>Parent Group ID.</strong> Maps this sub-muscle to a major group (e.g., 12 = Shoulders).</td></tr>
                <tr><td><code>min/max...Intensity</code></td><td>Int</td><td><strong>Analytics Logic.</strong> Defines volume thresholds for the workout summary. <br>Example: If volume is between <code>minMedium</code> and <code>maxMedium</code>, the muscle is shown as "Moderately Trained". Note that larger muscles (Quads) have higher thresholds than smaller ones (Rear Delts).</td></tr>
                <tr><td><code>configId</code></td><td>String</td><td>Internal configuration reference (likely mapping to 3D model assets).</td></tr>
            </tbody>
        </table>

        <h3>Response Example</h3>
        <pre><code class="language-json">{
  "code": 0,
  "message": "Success",
  "data": [
    {
      "id": 58,
      "categoryName": "Hamstrings",
      "trainingPartId2": 15, // Parent: Legs
      "minLowIntensity": 0,
      "maxLowIntensity": 18,     // 0-18: Low Impact
      "minMediumIntensity": 18,
      "maxMediumIntensity": 36,  // 18-36: Medium Impact
      "minHighIntensity": 36,    // >36: High Impact
      "maxHighIntensity": 2147483647
    },
    {
      "id": 59,
      "categoryName": "Quadriceps", // Larger muscle requires more volume
      "trainingPartId2": 15,
      "minLowIntensity": 0,
      "maxLowIntensity": 30,     // Threshold is higher (30 vs 18)
      "minMediumIntensity": 30,
      "maxMediumIntensity": 60
    }
  ]
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>

<section id="post-analytics-view">
        <div class="mb-4">
            <span class="badge post" style="font-size: 1rem; padding: 4px 10px;">POST</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/searchTerm/enterDetail</span>
        </div>
        <p>A telemetry endpoint used to track user engagement. It notifies the server when a user opens the <strong>Detail View</strong> of a specific exercise. This data likely feeds into "Popular" or "Recently Viewed" algorithms.</p>

        <h3>Request Parameters (Query)</h3>
        <p>Although this is a POST request, parameters are passed in the query string. The body is empty.</p>
        <table>
            <thead><tr><th>Name</th><th>In</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>businessId</code></td><td>Query</td><td>Int</td><td><strong>Required.</strong> The ID of the object being viewed. Matches <code>ActionObject.id</code> (e.g., <code>116</code> for Bench Press).</td></tr>
                <tr><td><code>traceId</code></td><td>Query</td><td>String</td><td>Optional. Used for distributed tracing or linking the view to a previous search query.</td></tr>
            </tbody>
        </table>

        <h3>Response Schema</h3>
        <table>
            <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>data</code></td><td>Boolean</td><td>Usually <code>false</code>. The return value's specific logic is unclear but irrelevant for client functionality, as this is a "fire-and-forget" logging call.</td></tr>
            </tbody>
        </table>

        <h3>Response Example</h3>
        <pre><code class="language-json">{
  "code": 0,
  "message": "Success",
  "data": false,
  "timestamp": 1765649790,
  "traceId": "2777366579c03f36"
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>

<section id="get-exercise-detail">
        <div class="mb-4">
            <span class="badge get" style="font-size: 1rem; padding: 4px 10px;">GET</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/actionLibraryGroup/{id}</span>
        </div>
        <p>Fetches the <strong>complete metadata</strong> for a specific exercise. This endpoint provides everything required to render the "Exercise Start" screen, including coaching audio, step-by-step guides, video sequences, and the logic for the "Smart Weight" presets.</p>

        <h3>Request Parameters</h3>
        <table>
            <thead><tr><th>Name</th><th>In</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
<tr>
    <td><code>id</code> (inside actionLibraryList)</td>
    <td>Int64</td>
    <td><strong>Target ID for POST.</strong> This is the ID you must use when saving a workout plan. Do not use the outer `id` (Group ID).</td>
</tr>                <tr><td><code>isDisplay</code></td><td>Query</td><td>Int</td><td><strong>Required.</strong> Set to <code>1</code> to receive rich media (video/audio) links.</td></tr>
            </tbody>
        </table>

        <h3>Response Schema Breakdown</h3>
        <p>The response is complex. We have categorized the fields of the <code>data</code> object below.</p>

        <h4>1. Core Configuration & Hardware</h4>
        <table>
            <thead><tr><th style="width: 200px;">Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>id</code></td><td>Int</td><td>Unique Exercise ID.</td></tr>
                <tr><td><code>title</code></td><td>String</td><td>Display Name (e.g., "Barbell Bench Press").</td></tr>
                <tr><td><code>accessories</code></td><td>String</td><td>Required Hardware IDs (CSV).</td></tr>
                <tr><td><code>isBarbell</code></td><td>Int</td><td><code>1</code> = Syncs both motors (Barbell mode). <code>0</code> = Independent motors.</td></tr>
                <tr><td><code>outPosition</code></td><td>Int</td><td><strong>Motor Height Index.</strong> (0-10). Visualized in the app to guide the user. <br><code>10</code> = "Platform End" (Lowest position for bench/floor exercises).</td></tr>
                <tr><td><code>recommendedWeight</code></td><td>Float</td><td>Default weight in kg.</td></tr>
                <tr><td><code>metValue</code></td><td>Float</td><td>Metabolic Equivalent. Used for calorie calculation.</td></tr>
                <tr><td><code>ropeSpeedZ</code></td><td>String</td><td>Motor tuning parameters (CSV). Likely Velocity/Acceleration curves.</td></tr>
            </tbody>
        </table>

        <h4>2. Instructions & Audio (Text-to-Speech Assets)</h4>
        <p>Contains text and matching MP3 files for the setup phase.</p>
        <table>
            <thead><tr><th style="width: 200px;">Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>context</code></td><td>String</td><td>Brief step-by-step summary text.</td></tr>
                <tr><td><code>breathingRate</code></td><td>String</td><td>Instructions on when to inhale/exhale.</td></tr>
                <tr><td><code>motionFeeling</code></td><td>String</td><td>Focus cues ("Where should you feel the burn?").</td></tr>
                <tr><td><code>errorCorrection</code></td><td>String</td><td>Common mistakes to avoid.</td></tr>
                <tr><td><code>actionNameVoice</code></td><td>String</td><td>URL to MP3 pronouncing the exercise name.</td></tr>
                <tr><td><code>guideVoice[1-6]</code></td><td>String</td><td>URLs to MP3 files for step-by-step setup guide.</td></tr>
                <tr><td><code>guideVoice[1-6]Txt</code></td><td>String</td><td>Subtitle text for the corresponding audio file.</td></tr>
                <tr><td><code>showDetails</code></td><td>String (JSON)</td><td><strong>Important:</strong> A stringified JSON array containing detailed steps with specific images. <em>Must be parsed client-side.</em></td></tr>
            </tbody>
        </table>

        <h4>3. Template Presets (Smart Logic)</h4>
        <p>The <code>templatePresetList</code> array defines the defaults for "Gain Muscle", "Strength", etc.</p>
        <table>
            <thead><tr><th style="width: 200px;">Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>name</code></td><td>String</td><td>Preset Name (e.g., "Gain Muscle").</td></tr>
                <tr><td><code>groupCount</code></td><td>Int</td><td>Default number of Sets.</td></tr>
                <tr><td><code>trainingCount</code></td><td>Int</td><td>Default Reps target.</td></tr>
                <tr><td><code>trainingCountScope...</code></td><td>Int</td><td>Min/Max Reps allowed in UI sliders.</td></tr>
                <tr><td><code>weight</code></td><td>Float</td><td>Suggested weight offset or RM-based value.</td></tr>
                <tr><td><code>relaxTime</code></td><td>Int</td><td>Rest time in seconds.</td></tr>
            </tbody>
        </table>

        <h4>4. Action Library (Coach & Video Variants)</h4>
        <p>The <code>actionLibraryList</code> array contains the video assets. An exercise can be taught by different coaches.</p>
        <table>
            <thead><tr><th style="width: 200px;">Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>coach</code></td><td>Object</td><td>Contains <code>name</code>, <code>avatar</code>, and <code>sex</code> (0=Male, 1=Female).</td></tr>
                <tr><td><code>videoPath</code></td><td>String</td><td>URL to the <strong>Loop</strong> video (the main repetition).</td></tr>
                <tr><td><code>startVideo</code></td><td>String</td><td><strong>CSV URL List.</strong> A sequence of short clips played <em>before</em> the loop (Setup, Get into position).</td></tr>
                <tr><td><code>startVideoTime</code></td><td>String</td><td><strong>CSV Int List.</strong> Durations (in seconds) for each clip in <code>startVideo</code>.</td></tr>
                <tr><td><code>endVideo</code></td><td>String</td><td>URL to the "Finish" clip (putting the weight down).</td></tr>
                <tr><td><code>goVoice</code></td><td>String</td><td>"Ready, Go!" audio cue URL.</td></tr>
                <tr><td><code>burningTimes</code></td><td>String</td><td>Caloric burn factor (or intensity score).</td></tr>
            </tbody>
        </table>

        <h3>Full Response Example</h3>
        <pre><code class="language-json">{
  "code": 0,
  "message": "Success",
  "data": {
    "id": 116,
    "recommendedWeight": 9.1,
    "accessories": "4,1",
    "isBarbell": 1,
    "trainingPartId2": 11,
    "difficultyId": 1,
    "weightRatio": 100,
    "enableVoice": 1,
    "countType": 2,
    "tabId": 1,
    "showDetailsImgs": "https://d1rwzqjevxdih5.cloudfront.net/1748921699325.jpg,https://d1rwzqjevxdih5.cloudfront.net/1748921703510.jpg",
    "deviceType": 1,
    "isCustom": 0,
    "jointType": 1,
    "isUseDevice": 1,
    "completionMethod": 1,
    "plate": "1",
    "dataStatType": 1,
    "isLeftRight": 0,
    "isVbt": 1,
    "img": "https://d1rwzqjevxdih5.cloudfront.net/1764665258264.jpg",
    "metValue": 1.5,
    "foldingStoolAngle": "",
    "title": "Barbell Bench Press",
    "context": "1.Lie on a bench, holding the barbell above the chest.\n2.From the starting position, slowly lower the barbell to the mid-chest.\n3.Drive through the chest and triceps to press the barbell back up to the starting position.",
    "showDetails": "[{\"context\":\"1.Keep your forearms vertical to the ground.\\n2.Slightly arch your lower back without lifting your glutes off the bench.\",\"img\":\"https://d1rwzqjevxdih5.cloudfront.net/1748921699325.jpg\"},{\"context\":\"1.Extend your arms fully without locking the elbows.\\n2.Keep your shoulder blades retracted and in contact with the bench throughout the movement.\",\"img\":\"https://d1rwzqjevxdih5.cloudfront.net/1748921703510.jpg\"}]",
    "breathingRate": "Inhale as you lower, exhale as you press up.",
    "motionFeeling": "Drive through the chest to press the barbell directly overhead, pausing 1‚Äì2 seconds at the top for peak contraction.",
    "errorCorrection": "Slightly arch your lower back, ensuring your glutes stay on the bench.",
    "actionNameVoice": "https://d1rwzqjevxdih5.cloudfront.net/1744344445853.mp3",
    "actionNameVoiceTxt": "Barbell Bench Press",
    "guideVoice1": "https://d1rwzqjevxdih5.cloudfront.net/1741933680395.mp3",
    "guideVoice1Txt": "Lock the pulleys to the footboard with the barbell attached.",
    "guideVoice2": "https://d1rwzqjevxdih5.cloudfront.net/1741933682762.mp3",
    "guideVoice2Txt": "Lie on the bench and grip the barbell slightly wider than shoulder-width.",
    "guideVoice3": "https://d1rwzqjevxdih5.cloudfront.net/1741933684841.mp3",
    "guideVoice3Txt": "Pack your shoulders, open your chest, and draw your abdomen in.",
    "guideVoice4": "https://d1rwzqjevxdih5.cloudfront.net/1741933687242.mp3",
    "guideVoice4Txt": "Slightly arch your lower back and don't lift your glutes off the bench.",
    "guideVoice5": "https://d1rwzqjevxdih5.cloudfront.net/1741933689552.mp3",
    "guideVoice5Txt": "Keep your breath steady. Exhale on your way up, and inhale on your way down.",
    "guideVoice6": "https://d1rwzqjevxdih5.cloudfront.net/1741933692054.mp3",
    "guideVoice6Txt": "Engage your pecs to press the barbell directly above your chest and hold the contraction for one to two seconds at the top.",
    "isMyFavorites": 0,
    "tabName": "Training",
    "auxiliaryMuscleGroupList": [
      {
        "id": 65,
        "configId": "7",
        "muscleGroupName": "Triceps",
        "categoryName": "Triceps",
        "status": 0,
        "trainingPartId2": 16,
        "minLowIntensity": 0,
        "maxLowIntensity": 33,
        "minMediumIntensity": 33,
        "maxMediumIntensity": 66,
        "minHighIntensity": 66,
        "maxHighIntensity": 2147483647
      },
      {
        "id": 66,
        "configId": "3",
        "muscleGroupName": "Front Delts",
        "categoryName": "Front Delts",
        "status": 0,
        "trainingPartId2": 12,
        "minLowIntensity": 0,
        "maxLowIntensity": 30,
        "minMediumIntensity": 30,
        "maxMediumIntensity": 60,
        "minHighIntensity": 60,
        "maxHighIntensity": 2147483647
      }
    ],
    "actionLibraryList": [
      {
        "id": 424195710320641,
        "img": "https://d1rwzqjevxdih5.cloudfront.net/1736922516339.jpg",
        "videoPath": "https://d1rwzqjevxdih5.cloudfront.net/8573064142008_1.mp4",
        "status": 0,
        "coachId": 14,
        "isDisplay": 1,
        "isCustom": 0,
        "isViolation": 0,
        "deviceType": 1,
        "isShotEnd": 0,
        "burningTimes": "11",
        "groupId": 116,
        "loopVideo": "",
        "startVideo": "https://d1rwzqjevxdih5.cloudfront.net/8573060140007_0.mp4,https://d1rwzqjevxdih5.cloudfront.net/8573060142005_0-1.mp4,https://d1rwzqjevxdih5.cloudfront.net/8573060144004_0-2.mp4,https://d1rwzqjevxdih5.cloudfront.net/8573060148013_0-3.mp4,https://d1rwzqjevxdih5.cloudfront.net/8573060149003_0-4.mp4,https://d1rwzqjevxdih5.cloudfront.net/8573060151008_0-5.mp4,https://d1rwzqjevxdih5.cloudfront.net/8573074833004_0-2.mp4,https://d1rwzqjevxdih5.cloudfront.net/8573074835012_0-3.mp4,https://d1rwzqjevxdih5.cloudfront.net/8573074837008_0-4.mp4,https://d1rwzqjevxdih5.cloudfront.net/8573074838011_0-5.mp4",
        "startVideoTime": "17,3,4,5,2,2,4,5,2,2",
        "endVideo": "https://d1rwzqjevxdih5.cloudfront.net/8573066341005_F.mp4",
        "endVideoTime": "2",
        "coach": {
          "id": 14,
          "name": "Mike",
          "sex": 0,
          "avatar": "https://d1rwzqjevxdih5.cloudfront.net/1750326232411.jpg",
          "coachNationalFlag": "https://d1rwzqjevxdih5.cloudfront.net/1755750553369.png"
        },
        "outLeft": 10,
        "outRight": 10,
        "completionTimeVoice": "https://d1rwzqjevxdih5.cloudfront.net/1748599323012.mp3",
        "completionNumberVoice": "https://d1rwzqjevxdih5.cloudfront.net/1748599330191.mp3",
        "goVoice": "https://d1rwzqjevxdih5.cloudfront.net/1748598449728.mp3",
        "startVideoType": "1",
        "restConfigVoice": "https://d1rwzqjevxdih5.cloudfront.net/1754272637626.mp3",
        "coachCreateTime": "2024-02-27 08:20:13",
        "coachLanguage": "en"
      },
      {
        "id": 389950116069377,
        "img": "https://d1rwzqjevxdih5.cloudfront.net/1736922516339.jpg",
        "videoPath": "https://d1rwzqjevxdih5.cloudfront.net/1741681302731_1.mp4",
        "status": 0,
        "coachId": 21,
        "isDisplay": 1,
        "isCustom": 0,
        "isViolation": 0,
        "deviceType": 1,
        "isShotEnd": 0,
        "burningTimes": "13",
        "groupId": 116,
        "loopVideo": "",
        "startVideo": "https://d1rwzqjevxdih5.cloudfront.net/1741681300870_0.mp4,https://d1rwzqjevxdih5.cloudfront.net/1741681309489_0-1.mp4,https://d1rwzqjevxdih5.cloudfront.net/1741681312389_0-2.mp4,https://d1rwzqjevxdih5.cloudfront.net/1741681315046_0-3.mp4,https://d1rwzqjevxdih5.cloudfront.net/1741681318047_0-4.mp4,https://d1rwzqjevxdih5.cloudfront.net/1741681322324_0-5.mp4,https://d1rwzqjevxdih5.cloudfront.net/1741681331586_0-2.mp4,https://d1rwzqjevxdih5.cloudfront.net/1741681328788_0-1.mp4,https://d1rwzqjevxdih5.cloudfront.net/1741681334429_0-3.mp4,https://d1rwzqjevxdih5.cloudfront.net/1741681338361_0-4.mp4",
        "startVideoTime": "24,6,6,9,8,7,6,6,9,8",
        "endVideo": "https://d1rwzqjevxdih5.cloudfront.net/1741681304654_2.mp4",
        "endVideoTime": "5",
        "coach": {
          "id": 21,
          "name": "Alex",
          "sex": 0,
          "avatar": "https://d1rwzqjevxdih5.cloudfront.net/1730173719342.png",
          "coachNationalFlag": "https://d1rwzqjevxdih5.cloudfront.net/1755750386745.png"
        },
        "outLeft": 10,
        "outRight": 10,
        "goVoice": "",
        "startVideoType": "2",
        "restConfigVoice": "",
        "coachCreateTime": "2023-09-09 10:55:09",
        "coachLanguage": "en"
      }
    ],
    "templatePresetList": [
      {
        "id": 1,
        "createUserId": 9,
        "createTime": "2024-09-26 09:39:59",
        "updateUserId": 9,
        "updateTime": "2024-09-26 10:11:57",
        "delFlag": 0,
        "tabId": 1,
        "presetId": 1,
        "name": "Gain Muscle",
        "groupCount": 4,
        "weight": 13,
        "weightScopeStart": 9,
        "weightScopeEnd": 13,
        "trainingCount": 12,
        "trainingCountScopeStart": 8,
        "trainingCountScopeEnd": 12,
        "trainingTimeScopeStart": 30,
        "trainingTimeScopeEnd": 60,
        "relaxTime": 60,
        "relaxTimeScopeStart": 45,
        "relaxTimeScopeEnd": 120,
        "status": 0
      },
      {
        "id": 3,
        "createUserId": 9,
        "createTime": "2024-09-26 09:41:04",
        "updateUserId": 9,
        "updateTime": "2024-09-26 10:11:58",
        "delFlag": 0,
        "tabId": 1,
        "presetId": 1,
        "name": "Stamina",
        "groupCount": 4,
        "weight": 17,
        "weightScopeStart": 15,
        "weightScopeEnd": 20,
        "trainingCount": 15,
        "trainingCountScopeStart": 13,
        "trainingCountScopeEnd": 20,
        "trainingTimeScopeStart": 30,
        "trainingTimeScopeEnd": 120,
        "relaxTime": 45,
        "relaxTimeScopeStart": 30,
        "relaxTimeScopeEnd": 180,
        "status": 0
      },
      {
        "id": 5,
        "createUserId": 9,
        "createTime": "2024-09-26 09:43:23",
        "updateUserId": 9,
        "updateTime": "2024-09-26 10:12:02",
        "delFlag": 0,
        "tabId": 1,
        "presetId": 1,
        "name": "Strength",
        "groupCount": 4,
        "weight": 7,
        "weightScopeStart": 4,
        "weightScopeEnd": 9,
        "trainingCount": 6,
        "trainingCountScopeStart": 2,
        "trainingCountScopeEnd": 8,
        "trainingTimeScopeStart": 6,
        "trainingTimeScopeEnd": 30,
        "relaxTime": 90,
        "relaxTimeScopeStart": 60,
        "relaxTimeScopeEnd": 180,
        "status": 0
      }
    ],
    "mainMuscleGroupList": [
      {
        "id": 68,
        "configId": "2",
        "muscleGroupName": "Pecs",
        "categoryName": "Pecs",
        "status": 0,
        "trainingPartId2": 11,
        "minLowIntensity": 0,
        "maxLowIntensity": 30,
        "minMediumIntensity": 30,
        "maxMediumIntensity": 60,
        "minHighIntensity": 60,
        "maxHighIntensity": 2147483647
      }
    ],
    "mainMuscleGroupId": 68,
    "mainMuscleGroupName": "Pecs",
    "mainMuscleGroupConfigId": "2",
    "isSingleJoint": 0,
    "outPosition": 10,
    "ropeSpeedZ": "1-1,1-1,1-1,1-1,1-1"
  },
  "timestamp": 1765649862,
  "traceId": "c5938ca81c1ee01d"
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>

<section id="get-batch-details">
        <div class="mb-4">
            <span class="badge get" style="font-size: 1rem; padding: 4px 10px;">GET</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/actionLibraryGroup/list</span>
        </div>
        <p>Retrieves detailed metadata for <strong>multiple exercises at once</strong>. This endpoint is used to pre-load assets for a complete workout session or to display a list of favorites with full details.</p>

        <h3>Request Parameters</h3>
        <table>
            <thead><tr><th>Name</th><th>In</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>ids</code></td><td>Query</td><td>Int (Repeated)</td><td><strong>Required.</strong> List of Exercise Group IDs. Can be passed multiple times (e.g., <code>?ids=116&ids=486</code>).</td></tr>
            </tbody>
        </table>

        <h3>Response Schema: Unilateral Logic (Left/Right)</h3>
        <p>The response structure is identical to the single-item endpoint, with one major exception for unilateral exercises (e.g., Single-Arm Press).</p>
        
        <div class="callout">
            <span class="callout-title">‚ö†Ô∏è Special Handling: Unilateral Exercises</span>
            If <code>isLeftRight</code> is <code>1</code>, the standard <code>videoPath</code> field may be replaced or supplemented by <code>leftVideo</code> / <code>rightVideo</code> fields to support side-specific instruction.
        </div>

        <table>
            <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>isLeftRight</code></td><td>Int</td><td>Flag. <code>1</code> indicates the exercise is performed separately for Left/Right sides.</td></tr>
                <tr><td><code>leftVideo</code> / <code>rightVideo</code></td><td>String</td><td>URLs for the loop video specific to each side.</td></tr>
                <tr><td><code>leftStartVideo</code> / <code>rightStartVideo</code></td><td>String</td><td>CSV of setup clips for each side.</td></tr>
                <tr><td><code>leftVideoTime</code> / <code>rightVideoTime</code></td><td>Int</td><td>Duration of the loop video in seconds.</td></tr>
            </tbody>
        </table>

        <h3>Response Example (Truncated)</h3>
        <pre><code class="language-json">{
  "code": 0,
  "data": [
    {
      "id": 116,
      "title": "Barbell Bench Press",
      "isLeftRight": 0,
      "actionLibraryList": [
        { "videoPath": "https://.../loop.mp4" } // Standard Video
      ]
    },
    {
      "id": 372728100683777,
      "title": "Standing Single-Arm Chest Press",
      "isLeftRight": 1, // Unilateral Flag
      "actionLibraryList": [
        {
          "leftVideo": "https://.../left_loop.mp4",
          "rightVideo": "https://.../right_loop.mp4",
          "leftStartVideo": "https://.../setup_L.mp4",
          "rightStartVideo": "https://.../setup_R.mp4"
        }
      ]
    }
  ]
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>

    <section id="post-save-template">
        <div class="mb-4">
            <span class="badge post" style="font-size: 1rem; padding: 4px 10px;">POST</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/v2/customTrainingTemplate</span>
        </div>
        <p>Saves a fully configured workout plan ("Template") to the user's cloud profile. This is the most complex endpoint in the API, as it requires constructing a precise JSON object that handles different training modes (RM vs. KG), unilateral exercises, and volume calculations.</p>

        <div class="callout" style="border-left-color: #f85149; background: rgba(248, 81, 73, 0.1);">
            <span class="callout-title" style="color: #f85149;">üö® CRITICAL ID MAPPING</span>
            Do <strong>NOT</strong> use the Group ID (e.g., <code>116</code> for Bench Press) in this request. 
            You must use the specific <strong>Variant ID</strong> found inside the `actionLibraryList` array of the exercise details (e.g., <code>424195710320641</code> for "Bench Press by Coach Mike"). Using the Group ID will result in broken or incorrect exercises in the plan.
        </div>

        <h3>Request Body Schema</h3>
        <p>The root object represents the entire Workout Plan.</p>
        <table>
            <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>name</code></td><td>String</td><td><strong>Required.</strong> The visible name of the plan (e.g., "My Leg Day").</td></tr>
                <tr><td><code>actionLibraryList</code></td><td>Array</td><td><strong>Required.</strong> List of Exercise Objects (see detailed table below).</td></tr>
                <tr><td><code>totalCapacity</code></td><td>Float</td><td>Sum of <code>capacity</code> of all exercises. Used for "Total Volume" preview.</td></tr>
                <tr><td><code>deviceType</code></td><td>Int</td><td>Hardware context (<code>1</code> = Gym Monster).</td></tr>
                <tr><td><code>bgColor</code></td><td>Int</td><td>UI Color Index (<code>0</code> = Default).</td></tr>
                <tr><td><code>templateSort</code></td><td>Int</td><td>Sorting index (usually <code>0</code>).</td></tr>
            </tbody>
        </table>

        <h3>The <code>actionLibraryList</code> Item Schema</h3>
        <p>Each item represents <strong>one exercise</strong> in the plan. Note that many fields are <strong>CSV Strings</strong> (Comma-Separated Values) to represent data for multiple sets.</p>
        
        <div class="callout">
            <span class="callout-title">‚ö†Ô∏è Array Length Rule</span>
            All CSV fields (`setsAndReps`, `weights`, `sportMode`, etc.) must have the same number of elements.
            <br>For unilateral exercises (Left/Right), the length is <code>Sets * 2</code>.
        </div>

        <table>
            <thead><tr><th>Field</th><th>Type</th><th>Logic & Constraints</th></tr></thead>
            <tbody>
                <tr><td><code>actionLibraryId</code></td><td>Int64</td><td>The specific ID of the selected video/coach variant (from <code>GET /actionLibraryGroup/{id}</code> > <code>actionLibraryList</code>).</td></tr>
                
                <tr><td><code>templatePresetId</code></td><td>Int</td><td>
                    <strong>Mode Selector:</strong><br>
                    <code>-1</code> = <strong>Customize</strong> (User defines exact KG).<br>
                    <code>1</code> = <strong>Gain Muscle</strong> (RM 9-13).<br>
                    <code>3</code> = <strong>Stamina</strong> (RM 15-20).<br>
                    <code>5</code> = <strong>Strength</strong> (RM 4-9).
                </td></tr>

                <tr><td><code>setsAndReps</code></td><td>String (CSV)</td><td>List of repetition targets per set (e.g., <code>"12,12,12"</code>).</td></tr>

                <tr><td><code>breakTime2</code></td><td>String (CSV)</td><td>Rest time <strong>after</strong> each set in seconds (e.g., <code>"60,60,60"</code>).</td></tr>

                <tr><td><code>sportMode</code></td><td>String (CSV)</td><td>
                    <strong>Training Mode per Set:</strong><br>
                    <code>1</code> = Standard<br>
                    <code>2</code> = Chains (Ketten)<br>
                    <code>3</code> = Eccentric (Exzentrisch)
                </td></tr>

                <tr><td><code>leftRight</code></td><td>String (CSV)</td><td>
                    <strong>Unilateral Logic:</strong><br>
                    <code>0</code> = Standard (Bilateral)<br>
                    <code>1</code> = Left Side<br>
                    <code>2</code> = Right Side<br>
                    <em>Note: If used, sets must alternate (e.g., "1,2,1,2") and CSV length doubles.</em>
                </td></tr>

                <tr><td><code>weights</code></td><td>String (CSV)</td><td>
                    <strong>Usage:</strong> Required for Custom (-1).<br>
                    <strong>Format:</strong> <code>Input_KG * 2.2</code>. (e.g., 10kg -> "22.0").<br>
                    <div style="color: #f85149; margin-top: 4px; font-size: 0.85em;">
                        <strong>‚ö†Ô∏è API QUIRK:</strong> Even when using Presets (where this should be empty), the API may drop <code>counterweight2</code> values if this field is empty. 
                        <br><strong>Fix:</strong> Send dummy values (e.g., "3.5") matching the list length to ensure RM values are saved.
                    </div>
                </td></tr>

                <tr><td><code>counterweight2</code></td><td>String (CSV)</td><td>
                    <strong>Usage:</strong> Only when <code>templatePresetId > 0</code>.<br>
                    <strong>Value:</strong> The RM Level (e.g., "13" for 13RM).<br>
                    <strong>Note:</strong> See <code>weights</code> quirk above.
                </td></tr>

                <tr><td><code>capacity</code></td><td>Float</td><td>
                    <strong>Volume Calculation:</strong><br>
                    Logic: <code>Sum(Reps * Weight_Value)</code>.<br>
                    <em>Note: Ensure Weight_Value corresponds to the API format (KG*2.2).</em>
                </td></tr>

                <tr><td><code>level</code></td><td>String (CSV)</td><td>Usually <code>"0,0,0"</code>. Likely reserved for difficulty override.</td></tr>
                <tr><td><code>selectCompletionMethod</code></td><td>String (CSV)</td><td>Usually <code>"1,1,1"</code>. Defines how a set is completed (e.g., auto-detect vs. manual).</td></tr>
            </tbody>
        </table>

        <h3>Payload Examples</h3>

        <h4>Scenario A: "Gain Muscle" (Smart RM Mode + Unilateral)</h4>
        <pre><code class="language-json">{
  "actionLibraryId": 376581436473493, // Single-Arm Exercise Variant ID
  "templatePresetId": 1, // Gain Muscle
  "setsAndReps": "12,12", // 1 Set Left, 1 Set Right
  "counterweight2": "13,13", // 13 RM
  "weights": "3.5,3.5", // Dummy values required to save counterweight2
  "leftRight": "1,2", // Left, then Right
  "breakTime2": "60,60",
  "sportMode": "1,1",
  "capacity": 2745.6, // Calculated Volume
  "level": "0,0",
  "selectCompletionMethod": "1,1"
}</code></pre>

        <h4>Scenario B: "Customize" (Fixed Weight)</h4>
        <pre><code class="language-json">{
  "actionLibraryId": 424195710320641, // Standard Exercise Variant ID
  "templatePresetId": -1, // Custom
  "setsAndReps": "10,10", // 2 Sets
  "weights": "17.6,17.6", // 8kg * 2.2 = 17.6
  "counterweight2": "", // MUST be empty
  "leftRight": "0,0", // Bilateral
  "breakTime2": "30,30",
  "sportMode": "1,1",
  "capacity": 352.0 // (10*17.6) + (10*17.6)
}</code></pre>

        <h3>Response</h3>
        <p>Returns the ID of the created template.</p>
        <pre><code class="language-json">{
  "code": 0,
  "message": "Success",
  "data": "693db3f28f08a777dd13bad9" // The Template ID
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>


    <section id="get-user-workouts">
        <div class="mb-4">
            <span class="badge get" style="font-size: 1rem; padding: 4px 10px;">GET</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/v4/customTrainingTemplate/appPage</span>
        </div>
        <p>Retrieves a paginated list of all training templates (Workout Plans) created by the user. This data populates the "My Workouts" section of the app.</p>

        <h3>Request Parameters</h3>
        <table>
            <thead><tr><th>Name</th><th>In</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>pageNo</code></td><td>Query</td><td>Int</td><td>Page number (starts at 1).</td></tr>
                <tr><td><code>pageSize</code></td><td>Query</td><td>Int</td><td>Items per page. Use <code>-1</code> to fetch all records at once.</td></tr>
                <tr><td><code>deviceTypes</code></td><td>Query</td><td>Int</td><td>Hardware filter (<code>1</code> = Gym Monster).</td></tr>
            </tbody>
        </table>

        <h3>Response Schema</h3>
        <p>The <code>data</code> array contains Template Objects.</p>
        
        <table>
            <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>id</code></td><td>Int</td><td>Internal Database ID of the template.</td></tr>
                <tr><td><code>code</code></td><td>String</td><td><strong>Public UUID.</strong> Likely used for sharing or API reference (e.g., "693db...").</td></tr>
                <tr><td><code>name</code></td><td>String</td><td>User-defined name of the workout.</td></tr>
                <tr><td><code>totalCapacity</code></td><td>Float</td><td>Total Volume (Tonnage) of the workout.</td></tr>
                <tr><td><code>durationMinute</code></td><td>Int</td><td>Estimated duration in minutes.</td></tr>
                <tr><td><code>actionNum</code></td><td>Int</td><td>Total number of exercises in the plan.</td></tr>
                <tr><td><code>actionInfoList</code></td><td>Array</td><td>Nested list of the first few exercises (ID, Group ID, Thumbnail). Used for UI preview cards.</td></tr>
                <tr><td><code>createTime</code> / <code>updateTime</code></td><td>String</td><td>Timestamps in UTC.</td></tr>
            </tbody>
        </table>

        <h3>Response Example (Truncated)</h3>
        <pre><code class="language-json">{
  "code": 0,
  "data": [
    {
      "id": 563828,
      "name": "My Workout",
      "code": "693db3f28f08a777dd13bad9",
      "totalCapacity": 5812.0,
      "durationMinute": 53,
      "actionNum": 8,
      "actionInfoList": [
        [
          {
            "title": "Standing Dual-Handle Chest Fly",
            "img": "https://..."
          }
        ],
        [
          {
            "title": "Barbell Bench Press",
            "img": "https://..."
          }
        ]
      ]
    }
  ]
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>

<section id="delete-template">
        <div class="mb-4">
            <span class="badge" style="background: rgba(218, 54, 51, 0.15); color: #f85149; border-color: rgba(248, 81, 73, 0.4); font-size: 1rem; padding: 4px 10px;">DELETE</span>
            <span class="endpoint-url" style="font-size: 1rem;">/api/app/customTrainingTemplate</span>
        </div>
        <p>Permanently removes one or more custom workout templates from the user's profile. This action cannot be undone.</p>

        <h3>Request Parameters</h3>
        <table>
            <thead><tr><th>Name</th><th>In</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>ids</code></td><td>Query</td><td>Int (CSV)</td><td><strong>Required.</strong> The internal numeric ID(s) of the template(s) to delete (e.g., <code>563828</code>). <br><em>Note: The parameter name implies support for batch deletion via comma-separated values.</em></td></tr>
            </tbody>
        </table>

        <h3>Response Schema</h3>
        <table>
            <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>data</code></td><td>Boolean</td><td><code>true</code> if the deletion was successful.</td></tr>
            </tbody>
        </table>

        <h3>Response Example</h3>
        <pre><code class="language-json">{
  "code": 0,
  "message": "Success",
  "data": true,
  "timestamp": 1765651880,
  "traceId": "94c64e5f8c200b40"
}</code></pre>
    </section>

    <div style="border-top: 1px solid var(--border); margin: 40px 0;"></div>

    </main>

<script>
    hljs.highlightAll();
</script>
{% endblock %}